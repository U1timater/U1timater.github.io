---
layout:     post
title:      技术支持岗笔试解析
subtitle:   某知名安全公司技术支持中心笔试题
date:       2019-11-09
author:     Ultimater
header-img: img/post-bg-20191109.jpg
catalog: true
tags:
    - 网络安全
---
>前几天参加了一家安全界知名公司的招聘，觉得笔试题很有意思，虽然不是很难，但对于刚入门的同学来说可以再次加深基础知识。因此放上笔试题以及较详细的解析，解析有不完善的地方的话欢迎大家一起讨论！

# 【网络基础】

### 一、简述OSI模型的层次结构和各层的功能，并且说明HTTP、DNS、ARP、ICMP、TCP分别属于其中哪一层？

**1. OSI七层模型及其功能：**

- **物理层：** 物理层是OSI参考模型的最低层。其主要功能是利用传输介质为数据链路层提供物理连接，实现*比特流*的透明传输。

- **数据链路层：** 数据链路层负责建立和管理节点间的链路。其主要功能是通过各种控制协议，将有差错的物理信道变为无差错的、能可靠传输*数据帧*的数据链路。该层又通常分为介质访问控制（MAC）和逻辑链路控制（LCC）两个子层：MAC子层的主要任务是解决共享型网络中多用户对信道竞争的问题，完成网络介质的访问控制；LCC子层的主要任务是建立和维护网络连接，执行差错校验、流量控制和链路控制。

- **网络层：** 网络层是OSI模型的第三层，也是通信子网的最高一层，它在下两层（即物理层和数据链路层）的基础上向资源子网提供服务。其主要任务是通过路由选择算法，为报文或分组通过通信子网选择最适当的路径。
    - 该层控制数据链路层与传输层之间的信息转发，建立、维持和终止网络的连接。具体地说，数据链路层的数据在这一层被转换为*数据包*，然后通过路径选择、分段组合、顺序、进/出路由等控制，将信息从一个网络设备传送到另一个网络设备。
    - 一般地，数据链路层是解决同一个网络内节点之间的通信，而网络层主要解决不同子网间的通信。

- **传输层：** OSI下3层的主要任务是数据通信，上3层的主要任务是数据处理。而传输层是通信子网和资源子网的接口和桥梁，起到承上启下的作用。该层的主要任务是向用户提供可靠的端到端的差错和流量控制，保证报文的正确传输。作用是向高层屏蔽下层数据通信的细节，即向用户透明地传送*报文*。因此，传输层的主要功能是：
    - 传输连接管理：提供建立、维护和拆除传输连接的功能。传输层在网络层的基础上为高层提供“面向连接”和“面向无连接”的两种服务；
    - 处理传输差错：提供可靠的“面向连接”和不太可靠的“面向无连接”的数据传输服务、差错控制和流量控制。在提供“面向连接”服务时，通过这一层传输的数据将由目标设备确认，如果在指定的时间内未收到确认信息，数据将被重发。
    - 监控服务质量

- **会话层：** 会话层是用户应用程序和网络之间的接口，主要任务是向两个实体的表示层提供建立和使用连接的方法。将不同实体之间的表示层的连接称为会话，因此会话层主要就是组织和协调两个会话进程之间的通信，并对数据交换进行管理。用户可以按照半双工、单工和全双工的方式建立会话。会话层的具体功能如下：
    - 会话管理：允许用户在两个实体设备之间建立、维持和终止会话，并支持它们之间的数据交换。例如提供单方向会话或双向同时会话，并管理会话中的发送顺序，以及会话所占用时间的长短。
    - 会话流量控制：提供会话流量控制和交叉会话功能。
    - 寻址：使用远程地址建立会话连接。
    - 出错控制：从逻辑上讲会话层主要负责数据交换的建立、保持和终止，但实际的工作却是接收来自传输层的数据，并负责纠正错误。会话控制和远程过程调用均属于这一层的功能。但应注意，此层检查的错误不是通信介质的错误，而是磁盘空间、打印机缺纸等类型的高级错误。

- **表示层：** 表示层对来自应用层的命令和数据进行解释，对各种语法赋予相应的含义，并按照一定的格式传送给会话层。其主要功能如下：
    - 数据格式处理：协商和建立数据交换的格式，解决各应用程序之间在数据格式表示上的差异。
    - 数据的编码：处理字符集和数字的转换。例如由于用户程序中的数据类型（整型或实型、有符号或无符号等）、用户标识等都可以有不同的表示方式，因此，在设备之间需要具有在不同字符集或格式之间转换的功能。
    - 压缩和解压缩：为了减少数据的传输量，这一层还负责数据的压缩与恢复。
    - 数据的加密和解密：可以提高网络的安全性。

- **应用层：** 应用层是计算机用户以及各种应用程序和网络之间的接口，其功能是直接向用户提供服务，完成用户希望在网络上完成的各种工作。

**2. OSI各层模型常见协议或服务：**

- **物理层：** `IEEE 802.2`、`Ethernet v.2`等

- **数据链路层：** `PPTP-点对点隧道协议`、`L2TP-第二层隧道协议`、`ARP-地址解析协议`、`RARP-逆向地址解析协议`等

- **网络层：** `IP-网际协议`、`ICMP-网际控制报文协议`、`IGMP-网际组管理协议`等

- **传输层：** `TCP-传输控制协议`、`UDP-用户数据报协议`等

- **会话层：** `SSL-安全套接字层协议`、`TLS-运输层安全协议`、`RPC-远程过程调用协议`等

- **表示层：** `XDP-外部数据表示协议`、`LPP-轻量级表示协议`等

- **应用层：** `HTTP-超文本传输协议`、`FTP-文件传输协议`、`SMTP-简单邮件传输协议`、`DNS-域名解析协议`、`VT-虚拟终端仿真协议`、`DHCP-动态主机配置协议`、`SNMP-简单网络管理协议`等

### 二、简述TCP、UDP协议的区别及优缺点。

**1. TCP、UDP协议的区别：**
- TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接；
- TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付；
- TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）；
- 每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信；
- TCP首部开销20字节;UDP的首部开销小，只有8个字节；
- TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道。

**2. TCP的优缺点：**
- TCP的优点：可靠，稳定。TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源；
- TCP的缺点：慢，效率低，占用系统资源高，易被攻击。TCP在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的CPU、内存等硬件资源。 而且，因为TCP有确认机制、三次握手机制，这些也导致TCP容易被人利用，实现DOS、DDOS、CC等攻击。

**3. UDP的优缺点：**
- UDP的优点：快，比TCP稍安全。UDP没有TCP的握手、确认、窗口、重传、拥塞控制等机制，UDP是一个无状态的传输协议，所以它在传递数据时非常快。没有TCP的这些机制，UDP较TCP被攻击者利用的漏洞就要少一些。但UDP也是无法避免攻击的，比如：UDP Flood攻击等；
- UDP的缺点：不可靠，不稳定。因为UDP没有TCP那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。

### 三、简述客户端使用浏览器访问 [https://www.chaitin.cn](https://www.chaitin.cn) 获取到结果的过程中客户端与服务器端的交互过程。

>*这道题看似考察的不多，但细究起来涉及到大量前端知识点，篇幅有限就只写简单过程提供下思路，具体请移步链接或自行Google。*

**简单过程线：**
1. 键盘或触屏输入URL并回车确认
2. URL解析/DNS解析查找域名IP地址
3. 客户端和服务端进行三次握手创建TCP连接
4. 发送HTTP请求
5. HTTP报文传输过程
6. 服务器接收并处理请求
7. 服务器返回数据
8. 客户端接收数据
9. 浏览器解析并加载html
10. 断开TCP连接

**详细过程及涉及前端知识点：**

 [从输入URL到页面加载的过程？如何由一道题完善自己的前端知识体系！](https://juejin.im/post/5aa5cb846fb9a028e25d2fb1)

### 四、HTTP协议中的请求和响应分别由哪几部分组成？

**1. HTTP请求：**

> HTTP请求报包含三个部分：请求行 + 请求头 + 数据体

- **请求行：** 请求行包含三个内容：method(方法) + request-URI(请求的URI) + http-version(http版本)
    - method包括有：

    方法|功能
    :--:|:--
    get|通过请求URI获得资源
    post|用于添加新的资源，用于表单提交
    put|用于修改某个内容
    delete|删除某个内容
    connect|用于代理进行传输例如SSL
    options|询问可以执行那些方法
    patch|部分文档更该
    propfind|查看属性
    proppatch|设置属性
    mkcol|创建集合
    copy|拷贝
    move|移动
    lock|加锁
    unlock|解锁
    trace|用于远程诊断服务器
    head|类似于get，用于检查对象是否存在用于得到元数据

    - 例如：`GET/sample.jspHTTP/1.1`

- **请求头：** 请求头主要包含以下内容：
    - Accept：指浏览器或其他客户可以接爱的MIME文件格式。Servlet可以根据它判断并返回适当的文件格式。
    - User-Agent：是客户浏览器名称
    - Host：对应网址URL中的Web名称和端口号。
    - Accept-Langeuage：指出浏览器可以接受的语言种类，如en或en-us，指英语。
    - connection：用来告诉服务器是否可以维持固定的HTTP连接。http是无连接的，HTTP/1.1使用Keep-Alive为默认值，这样，当浏览器需要多个文件时(比如一个HTML文件和相关的图形文件)，不需要每次都建立连接。
    - Cookie：浏览器用这个属性向服务器发送Cookie。Cookie是在浏览器中寄存的小型数据体，它可以记载和服务器相关的用户信息，也可以用来实现会话功能。
    - Referer：表明产生请求的网页URL。如比从网页/icconcept/index.jsp中点击一个链接到网页/icwork/search，在向服务器发送的GET/icwork/search中的请求中，Referer是http://hostname:8080/icconcept/index.jsp。这个属性可以用来跟踪Web请求是从什么网站来的。
    - User-Agent：是客户浏览器名称。
    - Content-Type：用来表名request的内容类型。可以用HttpServletRequest的getContentType()方法取得。
    - Accept-Charset：指出浏览器可以接受的字符编码。英文浏览器的默认值是ISO-8859-1.
    - Accept-Encoding：指出浏览器可以接受的编码方式。编码方式不同于文件格式，它是为了压缩文件并加速文件传递速度。浏览器在接收到Web响应之后先解码，然后再检查文件格式。
    - Content-Type:表示的是请求报文体的 MIME 类型。GET的请求消息体是空的 所以不需要指定消息体的MIME类型。
    - Content-Length:表示的是 post 的数据的长度

- **数据体：** 数据体由具体情境确定。

**2. HTTP响应：**

> http响应由三个部分组成，分别是状态行 + 响应头 + 响应正文。

- **状态行：** 状态行包含：HTTP-Version(http版本) + Status-Code(状态码) + Reason-Phrase(状态代码的文本描述)
    - 状态码包括有：

    状态码|描述
    :----:|:----
    1xx|指示信息–表示请求已接收，继续处理
    2xx|成功–表示请求已被成功接收、理解、接受
    3xx|重定向–要完成请求必须进行更进一步的操作
    4xx|客户端错误–请求有语法错误或请求无法实现
    5xx|服务器端错误–服务器未能实现合法的请求

    - 例如：`HTTP/1.1 200 ok`

- **响应头：** 响应头包含服务器类型，日期，长度，内容类型等。如：
    ```
    Server:Apache Tomcat/5.0.12
    Date:Mon,6Oct2003 13:13:33 GMT
    Content-Type:text/html
    Last-Moified:Mon,6 Oct 2003 13:23:42 GMT
    Content-Length:112
    ```

- **响应正文：** 响应正文就是服务器返回的HTML页面。

### 五、写出不少于8种常见HTTP返回码的含义。



